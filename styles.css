/*

Obsidian Cost Plugin Styles

*/

:root {
	--cost-icon-accent: #f59e0b;
}

.cost-ribbon-icon {
	color: var(--cost-icon-accent);
}

.workspace-tab-header[data-type="cost-accounts-sidebar"] .workspace-tab-header-inner-icon,
.workspace-tab-header[data-type="cost-main-view"] .workspace-tab-header-inner-icon,
.workspace-tab-header[data-type="cost-accounts-sidebar"].is-active .workspace-tab-header-inner-icon,
.workspace-tab-header[data-type="cost-main-view"].is-active .workspace-tab-header-inner-icon {
	color: var(--cost-icon-accent) !important;
}

/* 账户建议样式（通用） */
.account-suggestion {
	display: flex;
	flex-direction: column;
	padding: 4px 0;
}

.account-suggestion-name {
	font-weight: 500;
	color: var(--text-normal);
}

.account-suggestion-detail {
	font-size: 0.85em;
	color: var(--text-muted);
	margin-top: 2px;
}

/* Properties 面板账户建议弹窗 */
.account-property-suggest {
	background: var(--background-primary);
	border: 1px solid var(--background-modifier-border);
	border-radius: 6px;
	box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
	max-height: 300px;
	overflow-y: auto;
	padding: 4px 0;
}

.account-property-suggest .suggestion-item {
	padding: 8px 12px;
	cursor: pointer;
}

.account-property-suggest .suggestion-item:hover,
.account-property-suggest .suggestion-item.is-selected {
	background: var(--background-modifier-hover);
}

.account-property-suggest .account-suggestion-name {
	font-weight: 500;
	color: var(--text-normal);
}

.account-property-suggest .account-suggestion-detail {
	font-size: 0.85em;
	color: var(--text-muted);
	margin-top: 2px;
}

/* ========================================
   侧边栏账户视图
   ======================================== */

.cost-accounts-sidebar {
	padding: 0;
	background: var(--background-secondary);
}

.cost-sidebar-header {
	display: flex;
	justify-content: space-between;
	align-items: center;
	padding: 12px 16px;
	border-bottom: 1px solid var(--background-modifier-border);
}

.cost-sidebar-header h4 {
	margin: 0;
	font-size: 12px;
	font-weight: 600;
}

.cost-refresh-btn {
	background: none;
	border: none;
	cursor: pointer;
	font-size: 16px;
	color: var(--text-muted);
	padding: 4px 8px;
	border-radius: 4px;
}

.cost-refresh-btn:hover {
	background: var(--background-modifier-hover);
	color: var(--text-normal);
}

/* 余额汇总卡片 - 现代设计 */
.cost-balance-summary-card {
	padding: 10px 12px;
	background: var(--background-primary);
	border-radius: 10px;
	border: 1px solid var(--background-modifier-border);
	width: 100%;
	box-sizing: border-box;
}

/* 主数字区域 */
.cost-summary-main {
	text-align: center;
	padding-bottom: 10px;
}

.cost-summary-main-label {
	font-size: 9px;
	color: var(--text-muted);
	text-transform: uppercase;
	letter-spacing: 0.5px;
	margin-bottom: 3px;
}

.cost-summary-main-value {
	display: flex;
	align-items: baseline;
	justify-content: center;
	gap: 2px;
}

.cost-summary-currency {
	font-size: 13px;
	font-weight: 500;
	color: var(--text-muted);
}

.cost-summary-amount {
	font-size: 22px;
	font-weight: 700;
	font-family: var(--font-monospace);
	letter-spacing: -0.5px;
}

.cost-summary-negative::before {
	content: "-";
	font-size: 20px;
	margin-right: 2px;
}

/* 进度条 */
.cost-summary-progress {
	padding: 8px 0;
}

.cost-summary-progress-bar {
	height: 6px;
	background: var(--color-red-rgb, rgba(255, 100, 100, 0.3));
	border-radius: 3px;
	overflow: hidden;
}

.cost-summary-progress-asset {
	height: 100%;
	background: linear-gradient(90deg, var(--color-green), #4ade80);
	border-radius: 3px;
	transition: width 0.3s ease;
}

/* 详情区域 */
.cost-summary-detail {
	display: flex;
	justify-content: center;
	gap: 24px;
	padding-top: 8px;
	border-top: 1px solid var(--background-modifier-border);
}

.cost-summary-detail-item {
	display: flex;
	align-items: center;
	gap: 6px;
}

.cost-summary-detail-dot {
	width: 8px;
	height: 8px;
	border-radius: 50%;
}

.cost-dot-asset {
	background: var(--color-green);
}

.cost-dot-liability {
	background: var(--color-red);
}

.cost-summary-detail-label {
	font-size: 10px;
	color: var(--text-muted);
}

.cost-summary-detail-value {
	font-size: 11px;
	font-weight: 600;
	font-family: var(--font-monospace);
	color: var(--text-normal);
}

.cost-accounts-list {
	padding: 8px 0;
}

/* 账户分组 */
.cost-account-group {
	margin-bottom: 12px;
}

.cost-account-group-header {
	display: flex;
	align-items: center;
	padding: 6px 10px;
	background: transparent;
	gap: 4px;
	font-size: 11px;
	color: var(--text-muted);
	position: sticky;
	top: 0;
	z-index: 1;
}

.cost-account-group-icon {
	font-size: 12px;
}

.cost-account-group-name {
	font-weight: 600;
	color: var(--text-normal);
}

.cost-account-group-count {
	color: var(--text-faint);
}

.cost-account-group-total {
	margin-left: auto;
	font-weight: 600;
	font-size: 11px;
}

.cost-account-group-list {
	/* 分组内的账户列表 */
}

.cost-account-item {
	display: flex;
	align-items: center;
	padding: 8px 10px;
	cursor: pointer;
	gap: 8px;
	background: var(--background-primary);
	border-radius: 6px;
	margin: 3px 6px;
}

.cost-account-item:hover {
	background: var(--background-modifier-hover);
	border-left: 3px solid var(--text-accent);
}

.cost-account-icon {
	font-size: 18px;
	width: 28px;
	height: 28px;
	text-align: center;
	display: flex;
	align-items: center;
	justify-content: center;
}

.cost-account-custom-icon {
	width: 20px;
	height: 20px;
	object-fit: contain;
	border-radius: 3px;
}

.cost-account-info {
	flex: 1;
	min-width: 0;
}

.cost-account-name {
	font-size: 13px;
	font-weight: 500;
	white-space: nowrap;
	overflow: hidden;
	text-overflow: ellipsis;
}

.cost-account-detail {
	font-size: 11px;
	color: var(--text-muted);
	margin-top: 1px;
}

.cost-account-balance {
	font-weight: 600;
	font-size: 12px;
	white-space: nowrap;
}

.cost-balance-positive {
	color: var(--color-green);
}

.cost-balance-negative {
	color: var(--color-red);
}

.cost-empty-message {
	text-align: center;
	padding: 32px 16px;
	color: var(--text-muted);
}

/* ========================================
   主视图
   ======================================== */

.cost-main-view {
	display: flex;
	flex-direction: column;
	height: 100%;
}

.cost-tab-bar {
	display: flex;
	align-items: center;
	border-bottom: 1px solid var(--background-modifier-border);
	padding: 0 8px;
	gap: 4px;
}

.cost-tab {
	padding: 12px 16px;
	cursor: pointer;
	color: var(--text-muted);
	border-bottom: 2px solid transparent;
	margin-bottom: -1px;
}

.cost-tab:hover {
	color: var(--text-normal);
}

.cost-tab.is-active {
	color: var(--text-accent);
	border-bottom-color: var(--text-accent);
}

.cost-tab-action {
	margin-left: auto;
	padding: 8px;
	cursor: pointer;
	color: var(--text-muted);
	border-radius: 4px;
}

.cost-tab-action:hover {
	background: var(--background-modifier-hover);
	color: var(--text-accent);
}

.cost-tab-refresh {
	padding: 8px;
	cursor: pointer;
	color: var(--text-muted);
	border-radius: 4px;
}

.cost-tab-refresh:hover {
	background: var(--background-modifier-hover);
	color: var(--text-normal);
}

.cost-view-content {
	flex: 1;
	overflow-y: auto;
	padding: 16px;
	background: var(--background-secondary);
	scrollbar-width: none;
	-ms-overflow-style: none;
}

.cost-view-content::-webkit-scrollbar {
	width: 8px;
	background-color: transparent;
}

.cost-view-content::-webkit-scrollbar-thumb {
	background-color: var(--background-modifier-border);
	border-radius: 4px;
}

/* ========================================
   交易页两列布局
   ======================================== */

.cost-txn-layout {
	display: flex;
	gap: 20px;
	height: 100%;
	overflow: hidden;
}

.cost-txn-left-col {
	width: 320px;
	flex-shrink: 0;
	display: flex;
	flex-direction: column;
	gap: 16px;
	padding: 10px;
	overflow-y: auto;
	scrollbar-width: none;
	-ms-overflow-style: none;
}

.cost-txn-left-col::-webkit-scrollbar {
	display: none;
}

.cost-txn-right-col {
	flex: 1;
	min-width: 0;
	overflow-y: auto;
	scrollbar-width: none;
	-ms-overflow-style: none;
}

.cost-txn-right-col::-webkit-scrollbar {
	display: none;
}

/* 迷你日历 */
.cost-mini-calendar {
	background: var(--background-primary);
	border-radius: 12px;
	padding: 12px;
	border: 1px solid var(--background-modifier-border);
	width: 100%;
	box-sizing: border-box;
}

.cost-mini-calendar-header {
	display: flex;
	align-items: center;
	justify-content: space-between;
	margin-bottom: 8px;
}

.cost-mini-calendar-nav {
	width: 24px;
	height: 24px;
	display: flex;
	align-items: center;
	justify-content: center;
	border-radius: 4px;
	cursor: pointer;
	color: var(--text-muted);
}

.cost-mini-calendar-nav:hover {
	background: var(--background-modifier-hover);
	color: var(--text-normal);
}

.cost-mini-calendar-title {
	font-size: 14px;
	font-weight: 600;
}

.cost-mini-calendar-stats {
	display: flex;
	justify-content: center;
	gap: 12px;
	margin-bottom: 8px;
	font-size: 12px;
}

.cost-mini-stat.cost-income {
	color: var(--color-green);
}

.cost-mini-stat.cost-expense {
	color: var(--color-red);
}

.cost-mini-calendar-weekdays {
	display: grid;
	grid-template-columns: repeat(7, 1fr);
	text-align: center;
	margin-bottom: 4px;
}

.cost-mini-weekday {
	font-size: 10px;
	color: var(--text-muted);
	padding: 4px 0;
}

.cost-mini-calendar-grid {
	display: grid;
	grid-template-columns: repeat(7, 1fr);
	gap: 2px;
}

.cost-mini-day {
	min-height: 56px;
	display: flex;
	flex-direction: column;
	align-items: center;
	padding: 2px;
	font-size: 11px;
	border-radius: 4px;
	cursor: default;
	background: var(--background-primary);
}

.cost-mini-day-empty {
	background: transparent;
}

.cost-mini-day-num {
	font-weight: 500;
	font-size: 12px;
	margin-bottom: 2px;
}

.cost-mini-day-today {
	background: var(--interactive-accent);
	color: white;
}

.cost-mini-day-today .cost-mini-day-num {
	font-weight: 700;
}

.cost-mini-day-has-data {
	cursor: pointer;
}

.cost-mini-day-has-data:hover {
	background: var(--background-modifier-hover);
}

.cost-mini-day-stats {
	display: flex;
	flex-direction: column;
	align-items: center;
	gap: 1px;
	font-size: 9px;
}

.cost-mini-day-income {
	color: var(--color-green);
	font-weight: 500;
}

.cost-mini-day-expense {
	color: var(--color-red);
	font-weight: 500;
}

.cost-mini-day-count {
	color: var(--text-faint);
	font-size: 8px;
}

.cost-mini-day-today .cost-mini-day-income,
.cost-mini-day-today .cost-mini-day-expense,
.cost-mini-day-today .cost-mini-day-count {
	color: rgba(255, 255, 255, 0.9);
}

/* ========================================
   分类消费统计Widget
   ======================================== */

.cost-category-stats {
	background: var(--background-primary);
	border-radius: 12px;
	padding: 12px;
	border: 1px solid var(--background-modifier-border);
	width: 100%;
	box-sizing: border-box;
}

.cost-category-stats-header {
	display: flex;
	justify-content: space-between;
	align-items: center;
	margin-bottom: 12px;
}

.cost-category-stats-title {
	font-size: 14px;
	font-weight: 600;
}

/* 时间范围选择器 */
.cost-stats-range-selector {
	display: flex;
	align-items: center;
}

.cost-stats-range-btn {
	font-size: 11px;
	color: var(--text-muted);
	background: var(--background-secondary);
	padding: 3px 8px;
	border-radius: 4px;
	cursor: pointer;
	transition: all 0.15s ease;
}

.cost-stats-range-btn:hover {
	background: var(--background-modifier-hover);
	color: var(--text-normal);
}

.cost-category-stats-empty {
	color: var(--text-muted);
	text-align: center;
	padding: 16px;
	font-size: 13px;
}

/* 饼图布局 */
.cost-category-content {
	display: flex;
	justify-content: center;
	align-items: center;
	padding: 0;
	height: 240px;
}

.cost-category-chart {
	width: 100%;
	max-width: 240px;
	margin-top: -20px;
	margin-bottom: -20px;
	aspect-ratio: 1;
	display: flex;
	align-items: center;
	justify-content: center;
	height: 100%;
}

.cost-pie-chart {
	width: 100%;
	height: 100%;
	overflow: visible;
	display: block;
}

.cost-pie-label {
	font-size: 12px;
	fill: var(--text-muted);
}

.cost-pie-value {
	font-size: 16px;
	font-weight: 600;
	fill: var(--text-normal);
}

/* 饼图扇区内的百分比 */
.cost-pie-percent {
	font-size: 10px;
	font-weight: 600;
	fill: white;
	text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
}

/* 饼图分类标签 */
.cost-pie-category-label {
	font-size: 11px;
	fill: var(--text-normal);
}

/* 日期分组高亮 */
.cost-date-group-highlight {
	animation: highlight-pulse 1.5s ease-out;
}

@keyframes highlight-pulse {
	0% {
		background: var(--text-accent);
	}

	100% {
		background: transparent;
	}
}

/* 日期分组 */
.cost-date-group {
	margin-bottom: 24px;
}

.cost-date-header {
	display: flex;
	justify-content: space-between;
	align-items: center;
	padding: 8px 0;
	border-bottom: 1px solid var(--background-modifier-border);
	margin-bottom: 8px;
}

.cost-date-text {
	font-weight: 600;
	color: var(--text-normal);
}

.cost-date-summary {
	display: flex;
	gap: 12px;
	font-size: 13px;
}

.cost-income {
	color: var(--color-green);
}

.cost-expense {
	color: var(--color-red);
}

/* 交易项 */
.cost-transactions-list {
	display: flex;
	flex-direction: column;
	gap: 4px;
}

.cost-transaction-item {
	display: flex;
	align-items: center;
	padding: 12px;
	border-radius: 8px;
	cursor: pointer;
	gap: 12px;
	background: var(--background-primary);
}

.cost-transaction-item:hover {
	background: var(--background-modifier-hover);
}

.cost-txn-icon {
	font-size: 24px;
	width: 40px;
	height: 40px;
	display: flex;
	align-items: center;
	justify-content: center;
	background: var(--background-primary);
	border-radius: 8px;
}

.cost-txn-info {
	flex: 1;
	min-width: 0;
}

.cost-txn-top-row {
	display: flex;
	align-items: center;
	gap: 8px;
}

.cost-txn-category {
	font-weight: 500;
}

.cost-txn-payee {
	color: var(--text-muted);
	font-size: 13px;
}

.cost-txn-address {
	display: inline-flex;
	align-items: center;
	color: var(--text-faint);
	font-size: 12px;
}

.cost-txn-bottom-row {
	display: flex;
	align-items: center;
	gap: 8px;
	margin-top: 4px;
	font-size: 12px;
	color: var(--text-muted);
}

/* 日期时间行 */
.cost-txn-datetime-row {
	display: flex;
	align-items: center;
	gap: 8px;
	margin-top: 4px;
	font-size: 12px;
}

/* 可点击的日期 */
.cost-txn-date-clickable {
	padding: 2px 6px;
	border-radius: 4px;
	color: var(--text-muted);
	cursor: pointer;
	transition: all 0.15s ease;
}

.cost-txn-date-clickable:hover {
	background: var(--background-modifier-hover);
	color: var(--text-normal);
}

/* 可点击的时间 */
.cost-txn-time-clickable {
	padding: 2px 6px;
	border-radius: 4px;
	color: var(--text-faint);
	cursor: pointer;
	transition: all 0.15s ease;
	font-family: var(--font-monospace);
}

.cost-txn-time-clickable:hover {
	background: var(--background-modifier-hover);
	color: var(--text-normal);
}

/* 日期/时间选择器模态框 */
.cost-picker-backdrop {
	position: fixed;
	top: 0;
	left: 0;
	right: 0;
	bottom: 0;
	background: rgba(0, 0, 0, 0.5);
	z-index: 1000;
}

.cost-date-picker-modal {
	position: fixed;
	top: 50%;
	left: 50%;
	transform: translate(-50%, -50%);
	z-index: 1001;
}

.cost-picker-content {
	background: var(--background-primary);
	border: 1px solid var(--background-modifier-border);
	border-radius: 8px;
	padding: 20px;
	min-width: 250px;
	box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
}

.cost-picker-label {
	font-weight: 600;
	margin-bottom: 12px;
	text-align: center;
}

.cost-picker-input {
	width: 100%;
	padding: 8px 12px;
	border: 1px solid var(--background-modifier-border);
	border-radius: 6px;
	background: var(--background-secondary);
	color: var(--text-normal);
	font-size: 14px;
	margin-bottom: 16px;
}

.cost-picker-input:focus {
	outline: none;
	border-color: var(--interactive-accent);
}

.cost-picker-buttons {
	display: flex;
	justify-content: flex-end;
	gap: 8px;
}

.cost-picker-btn {
	padding: 6px 16px;
	border: 1px solid var(--background-modifier-border);
	border-radius: 6px;
	background: var(--background-secondary);
	color: var(--text-normal);
	cursor: pointer;
	font-size: 13px;
}

.cost-picker-btn:hover {
	background: var(--background-modifier-hover);
}

.cost-picker-btn-primary {
	background: var(--interactive-accent);
	color: white;
	border-color: var(--interactive-accent);
}

.cost-picker-btn-primary:hover {
	opacity: 0.9;
}

/* 备注（note） */
.cost-txn-note {
	color: var(--text-muted);
	font-size: 12px;
	font-style: italic;
}

.cost-txn-refund {
	color: var(--color-cyan);
	font-weight: 500;
}

/* 账户气泡（左侧） */
.cost-txn-account-bubble {
	display: inline-flex;
	align-items: center;
	gap: 4px;
	padding: 2px 8px;
	border-radius: 10px;
	background-color: var(--background-secondary);
	color: var(--text-muted);
	font-size: 11px;
}

/* 可点击的账户气泡 */
.cost-txn-account-clickable {
	cursor: default;
}

/* 可编辑的账户（可点击更改） */
.cost-txn-account-editable {
	display: inline-flex;
	align-items: center;
	gap: 2px;
	padding: 1px 4px;
	border-radius: 6px;
	cursor: pointer;
	transition: background-color 0.15s ease;
}

.cost-txn-account-editable:hover {
	background-color: var(--background-modifier-hover);
}

/* 交易中的账户小图标 */
.cost-txn-account-icon-small {
	display: inline-flex;
	align-items: center;
	justify-content: center;
	font-size: 12px;
	line-height: 1;
}

.cost-txn-account-icon-small img {
	width: 14px;
	height: 14px;
	object-fit: contain;
	border-radius: 2px;
	vertical-align: middle;
}

/* 余额变化（显示在金额下方） */
.cost-txn-balance-changes {
	display: flex;
	flex-direction: row;
	align-items: center;
	justify-content: flex-end;
	gap: 4px;
	margin-top: 4px;
	flex-wrap: wrap;
}

/* 余额变动气泡（右侧） */
/* 余额变动气泡统一灰色背景，字体颜色由子元素控制 */
.cost-txn-balance-bubble {
	display: inline-block;
	padding: 2px 6px;
	border-radius: 8px;
	background-color: var(--background-modifier-hover);
	font-size: 11px;
	font-family: var(--font-monospace);
}

/* 净资产增加 - 浅绿色 */
/* 不区分正负，统一灰色背景 */
.cost-txn-balance-bubble.cost-balance-bubble-positive,
.cost-txn-balance-bubble.cost-balance-bubble-negative {
	background-color: var(--background-modifier-hover);
	color: var(--text-muted);
}

/* 余额变动正负色 */
.cost-balance-positive {
	color: var(--color-green);
}

.cost-balance-negative {
	color: var(--color-red);
}

/* 余额变动箭头 - 黑色 */
.cost-txn-balance-arrow {
	color: var(--text-normal);
	margin: 0 1px;
}

/* 位置图标 */
.cost-txn-location-icon {
	display: inline-flex;
	align-items: center;
	justify-content: center;
	width: 14px;
	height: 14px;
	margin-right: 3px;
	vertical-align: middle;
}

.cost-txn-location-icon svg {
	width: 100%;
	height: 100%;
}

.cost-txn-time {
	font-size: 11px;
	color: var(--text-faint);
	margin-left: 6px;
}

.cost-txn-amount {
	font-weight: 600;
	font-size: 15px;
}

.cost-txn-original-amount {
	font-size: 11px;
	color: var(--text-muted);
	text-decoration: line-through;
}

.cost-amount-income {
	color: var(--color-green);
}

.cost-amount-expense {
	color: var(--color-red);
}

.cost-amount-transfer {
	color: var(--text-muted);
}

/* 中文交易类型样式 */
.cost-amount-收入 {
	color: var(--color-green);
}

.cost-amount-支出 {
	color: var(--color-red);
}

.cost-amount-还款 {
	color: var(--color-orange);
}

.cost-amount-转账 {
	color: var(--text-muted);
}

/* 交易金额列 */
.cost-txn-amount-col {
	display: flex;
	flex-direction: column;
	align-items: flex-end;
	gap: 2px;
}

.cost-txn-balance-change {
	font-size: 11px;
	opacity: 0.9;
}

.cost-txn-account-changes {
	display: flex;
	flex-direction: column;
	align-items: flex-end;
	gap: 1px;
}

.cost-txn-account-change {
	font-size: 10px;
	opacity: 0.85;
}

.cost-txn-running-balance {
	font-size: 11px;
	color: var(--text-muted);
	white-space: nowrap;
}

/* 账户卡片网格 - 固定两列 */
.cost-accounts-grid {
	display: grid;
	grid-template-columns: repeat(2, 1fr);
	gap: 12px;
}

/* ========================================
   账户标签页 - 左右两列布局
   ======================================== */

.cost-accounts-layout {
	display: flex;
	gap: 16px;
	height: 100%;
}

.cost-accounts-left {
	width: 280px;
	min-width: 200px;
	flex-shrink: 0;
	display: flex;
	flex-direction: column;
	border-right: 1px solid var(--background-modifier-border);
	padding: 12px;
	background: var(--background-secondary);
	border-radius: 8px;
	margin-right: 8px;
}

.cost-accounts-right {
	flex: 1;
	min-width: 0;
	display: flex;
	flex-direction: column;
	overflow-y: auto;
	scrollbar-width: none;
	-ms-overflow-style: none;
}

.cost-accounts-right::-webkit-scrollbar {
	display: none;
}

.cost-col-header {
	margin-bottom: 12px;
	padding-bottom: 8px;
	border-bottom: 1px solid var(--background-modifier-border);
}

.cost-col-header h4 {
	margin: 0;
	font-size: 14px;
	font-weight: 600;
}

.cost-accounts-col-list {
	flex: 1;
	overflow-y: auto;
	scrollbar-width: none;
	/* Firefox */
	-ms-overflow-style: none;
	/* IE/Edge */
}

.cost-accounts-col-list::-webkit-scrollbar {
	display: none;
	/* Chrome/Safari/Opera */
}

.cost-account-list-item {
	display: flex;
	align-items: center;
	padding: 10px 12px;
	gap: 10px;
	border-radius: 8px;
	cursor: pointer;
	margin-bottom: 4px;
	background: var(--background-primary);
}

.cost-account-list-item:hover {
	background: var(--background-modifier-hover);
}

.cost-account-list-item.is-selected {
	background: var(--background-modifier-active-hover);
	border-left: 3px solid var(--text-accent);
}

.cost-account-list-icon {
	font-size: 20px;
	width: 28px;
	text-align: center;
}

.cost-account-list-info {
	flex: 1;
	min-width: 0;
}

.cost-account-list-name {
	font-weight: 500;
	white-space: nowrap;
	overflow: hidden;
	text-overflow: ellipsis;
}

.cost-account-list-count {
	font-size: 11px;
	color: var(--text-muted);
	margin-top: 2px;
}

.cost-account-list-balance {
	font-weight: 600;
	font-size: 13px;
	text-align: right;
	white-space: nowrap;
}

.cost-txn-col-list {
	flex: 1;
	overflow-y: auto;
	scrollbar-width: none;
	-ms-overflow-style: none;
}

.cost-txn-col-list::-webkit-scrollbar {
	display: none;
}

.cost-select-hint {
	display: flex;
	align-items: center;
	justify-content: center;
	height: 200px;
	color: var(--text-faint);
}

.cost-account-card {
	display: flex;
	flex-direction: column;
	align-items: center;
	padding: 20px 16px;
	background: var(--background-primary);
	border-radius: 12px;
	cursor: pointer;
	text-align: center;
}

.cost-account-card:hover {
	background: var(--background-modifier-hover);
}

.cost-account-card-icon {
	font-size: 32px;
	margin-bottom: 12px;
}

.cost-account-card-name {
	font-weight: 600;
	margin-bottom: 4px;
}

.cost-account-card-type {
	font-size: 12px;
	color: var(--text-muted);
	margin-bottom: 8px;
}

.cost-account-card-count {
	font-size: 12px;
	color: var(--text-faint);
}

/* 返回按钮 */
.cost-back-btn {
	display: inline-flex;
	align-items: center;
	padding: 8px 12px;
	margin-bottom: 16px;
	cursor: pointer;
	color: var(--text-muted);
	border-radius: 6px;
}

.cost-back-btn:hover {
	background: var(--background-modifier-hover);
	color: var(--text-normal);
}

.cost-account-header {
	margin-bottom: 16px;
}

.cost-account-header h3 {
	margin: 0;
}

/* ========================================
   日历视图
   ======================================== */

.cost-calendar-container {
	padding: 12px;
}

.cost-calendar-header {
	display: flex;
	align-items: center;
	justify-content: center;
	gap: 16px;
	margin-bottom: 16px;
}

.cost-calendar-nav-btn {
	width: 32px;
	height: 32px;
	display: flex;
	align-items: center;
	justify-content: center;
	border-radius: 6px;
	cursor: pointer;
	color: var(--text-muted);
}

.cost-calendar-nav-btn:hover {
	background: var(--background-modifier-hover);
	color: var(--text-normal);
}

.cost-calendar-title {
	font-size: 18px;
	font-weight: 600;
	min-width: 120px;
	text-align: center;
}

.cost-calendar-today-btn {
	padding: 4px 12px;
	border-radius: 6px;
	font-size: 12px;
	cursor: pointer;
	color: var(--text-muted);
	border: 1px solid var(--background-modifier-border);
}

.cost-calendar-today-btn:hover {
	background: var(--background-modifier-hover);
	color: var(--text-normal);
}

.cost-calendar-stats {
	display: flex;
	justify-content: center;
	gap: 24px;
	margin-bottom: 16px;
	padding: 12px;
	background: var(--background-secondary);
	border-radius: 8px;
}

.cost-calendar-stat {
	font-size: 14px;
}

.cost-calendar-stat.cost-income {
	color: var(--color-green);
}

.cost-calendar-stat.cost-expense {
	color: var(--color-red);
}

.cost-calendar-weekdays {
	display: grid;
	grid-template-columns: repeat(7, 1fr);
	text-align: center;
	margin-bottom: 8px;
}

.cost-calendar-weekday {
	padding: 8px 0;
	font-size: 12px;
	font-weight: 600;
	color: var(--text-muted);
}

.cost-calendar-grid {
	display: grid;
	grid-template-columns: repeat(7, 1fr);
	gap: 4px;
}

.cost-calendar-day {
	min-height: 80px;
	padding: 6px;
	border-radius: 8px;
	background: var(--background-secondary);
	border: 1px solid transparent;
	cursor: default;
	transition: all 0.15s ease;
}

.cost-calendar-day-empty {
	background: transparent;
	border: none;
}

.cost-calendar-day-today {
	border-color: var(--interactive-accent);
	background: var(--background-primary-alt);
}

.cost-calendar-day-today .cost-calendar-day-num {
	background: var(--interactive-accent);
	color: white;
	border-radius: 50%;
	width: 24px;
	height: 24px;
	display: flex;
	align-items: center;
	justify-content: center;
}

.cost-calendar-day-has-data {
	cursor: pointer;
}

.cost-calendar-day-has-data:hover {
	background: var(--background-modifier-hover);
	border-color: var(--background-modifier-border);
}

.cost-calendar-day-num {
	font-size: 14px;
	font-weight: 500;
	margin-bottom: 4px;
}

.cost-calendar-day-stats {
	display: flex;
	flex-direction: column;
	gap: 2px;
}

.cost-calendar-day-income {
	font-size: 11px;
	color: var(--color-green);
	font-weight: 500;
}

.cost-calendar-day-expense {
	font-size: 11px;
	color: var(--color-red);
	font-weight: 500;
}

.cost-calendar-day-count {
	font-size: 10px;
	color: var(--text-faint);
	margin-top: 2px;
}

/* 参与人气泡 */
.cost-txn-persons {
	display: flex;
	gap: 4px;
	margin-left: 4px;
}

.cost-txn-person-bubble {
	font-size: 11px;
	background: var(--background-secondary);
	color: var(--text-muted);
	padding: 1px 6px;
	border-radius: 4px;
	border: 1px solid var(--background-modifier-border);
}

/* 交易创建模态对话框 */
.cost-modal-backdrop {
	position: fixed;
	top: 0;
	left: 0;
	right: 0;
	bottom: 0;
	background: rgba(0, 0, 0, 0.5);
	z-index: 9998;
	backdrop-filter: blur(2px);
}

.cost-transaction-modal {
	position: fixed;
	top: 50%;
	left: 50%;
	transform: translate(-50%, -50%);
	z-index: 9999;
	max-width: 500px;
	width: 90%;
	max-height: 80vh;
	overflow-y: auto;
}

.cost-modal-content {
	background: var(--background-primary);
	border-radius: 12px;
	padding: 24px;
	box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
	border: 1px solid var(--background-modifier-border);
}

.cost-modal-title {
	font-size: 18px;
	font-weight: 600;
	margin-bottom: 20px;
	color: var(--text-normal);
}

.cost-modal-form {
	display: flex;
	flex-direction: column;
	gap: 16px;
}

.cost-form-group {
	display: flex;
	flex-direction: column;
	gap: 6px;
}

.cost-form-group label {
	font-size: 13px;
	font-weight: 500;
	color: var(--text-normal);
}

.cost-form-input {
	padding: 8px 12px;
	border: 1px solid var(--background-modifier-border);
	border-radius: 6px;
	background: var(--background-primary);
	color: var(--text-normal);
	font-size: 14px;
	transition: border-color 0.2s;
}

.cost-form-input:focus {
	outline: none;
	border-color: var(--interactive-accent);
}

.cost-form-input::placeholder {
	color: var(--text-faint);
}

.cost-modal-buttons {
	display: flex;
	gap: 12px;
	justify-content: flex-end;
	margin-top: 20px;
}

.cost-modal-btn {
	padding: 8px 16px;
	border-radius: 6px;
	font-size: 14px;
	font-weight: 500;
	cursor: pointer;
	border: 1px solid var(--background-modifier-border);
	background: var(--background-secondary);
	color: var(--text-normal);
	transition: all 0.2s;
}

.cost-modal-btn:hover {
	background: var(--background-modifier-hover);
}

.cost-modal-btn-primary {
	background: var(--interactive-accent);
	color: white;
	border-color: var(--interactive-accent);
}

.cost-modal-btn-primary:hover {
	opacity: 0.9;
}

/* 添加交易页（重构） */
.cost-add-txn-modal .modal {
	width: min(760px, 96vw);
	max-width: 760px;
	border-radius: 24px;
	overflow: hidden;
}

.cost-add-txn-modal .modal-content {
	background: #f6f6f7;
	padding: 14px 14px 12px;
}

.cost-add-txn-page {
	display: flex;
	flex-direction: column;
	gap: 14px;
	padding: 0;
}

.cost-add-txn-type-tabs {
	display: grid;
	grid-template-columns: repeat(4, minmax(0, 1fr));
	gap: 0;
	padding: 3px;
	border-radius: 14px;
	background: #ebebed;
	width: min(420px, 100%);
	align-self: center;
}

.cost-add-txn-type-btn {
	border: none;
	background: transparent;
	color: var(--text-normal);
	border-radius: 10px;
	padding: 8px 4px;
	font-size: 14px;
	font-weight: 600;
	cursor: pointer;
}

.cost-add-txn-type-btn.is-active {
	color: #18181b;
	background: #ffffff;
	box-shadow: 0 1px 2px rgba(0, 0, 0, 0.08);
}

.cost-add-txn-category-section {
	border: none;
	background: #f6f6f7;
	border-radius: 16px;
	padding: 6px 2px 4px;
}

.cost-add-txn-section-title {
	font-size: 13px;
	font-weight: 600;
	color: var(--text-muted);
	margin-bottom: 10px;
}

.cost-add-txn-category-grid {
	display: grid;
	grid-template-columns: repeat(7, minmax(0, 1fr));
	gap: 8px;
}

.cost-add-txn-category-item {
	border: 1px solid transparent;
	background: transparent;
	border-radius: 14px;
	padding: 8px 4px;
	display: flex;
	flex-direction: column;
	align-items: center;
	gap: 8px;
	cursor: pointer;
}

.cost-add-txn-category-item:hover {
	border-color: transparent;
}

.cost-add-txn-category-item.is-active {
	background: rgba(255, 255, 255, 0.72);
	border-color: rgba(0, 0, 0, 0.06);
}

.cost-add-txn-category-icon {
	width: 36px;
	height: 36px;
	border-radius: 999px;
	display: flex;
	align-items: center;
	justify-content: center;
	color: #4b5563;
	position: relative;
	overflow: hidden;
}

.cost-add-txn-category-icon-img {
	width: 22px;
	height: 22px;
	object-fit: contain;
}

.cost-add-txn-category-icon .svg-icon,
.cost-add-txn-category-icon svg {
	position: static !important;
	inset: auto !important;
	transform: none !important;
	margin: 0 !important;
	width: 22px !important;
	height: 22px !important;
	display: block;
}

.cost-add-txn-category-label {
	font-size: 13px;
	font-weight: 500;
	text-align: center;
	color: #3f3f46;
	line-height: 1.2;
	word-break: break-word;
	width: 100%;
	min-height: 30px;
	display: -webkit-box;
	-webkit-line-clamp: 2;
	-webkit-box-orient: vertical;
	overflow: hidden;
}

.cost-add-txn-amount-section {
	border: 1px solid #ececef;
	background: #ffffff;
	border-radius: 18px;
	padding: 14px;
	display: flex;
	flex-direction: column;
	gap: 12px;
}

.cost-add-txn-amount-input {
	width: 100%;
	border: none;
	outline: none;
	background: transparent;
	color: #d92d20;
	font-size: clamp(36px, 6vw, 54px);
	font-weight: 700;
	line-height: 1.1;
	text-align: center;
}

.cost-add-txn-amount-input::placeholder {
	color: #d92d20;
	opacity: 0.42;
}

.cost-add-txn-meta-row {
	display: grid;
	grid-template-columns: 1fr 1fr;
	gap: 8px;
}

.cost-add-txn-date-input,
.cost-add-txn-time-input,
.cost-add-txn-memo-input,
.cost-add-txn-field-input {
	width: 100%;
	border: 1px solid var(--background-modifier-border);
	background: var(--background-secondary);
	color: var(--text-normal);
	border-radius: 12px;
	padding: 10px 12px;
	font-size: 14px;
}

.cost-add-txn-memo-input {
	resize: vertical;
	min-height: 72px;
}

.cost-add-txn-helper-bar {
	display: flex;
	gap: 8px;
	overflow-x: auto;
	padding: 4px 2px;
	scrollbar-width: thin;
}

.cost-add-txn-helper-tag {
	border: 1px solid #e6e6e8;
	background: #ffffff;
	color: var(--text-normal);
	border-radius: 11px;
	padding: 8px 12px;
	font-size: 13px;
	font-weight: 500;
	white-space: nowrap;
	cursor: pointer;
}

.cost-add-txn-helper-wrap {
	position: relative;
	border-radius: 14px;
}

.cost-add-txn-details {
	border: 1px solid var(--background-modifier-border);
	background: #ffffff;
	border-radius: 14px;
	padding: 10px 12px;
}

.cost-add-txn-details>summary {
	cursor: pointer;
	font-size: 13px;
	font-weight: 600;
	color: var(--text-muted);
}

.cost-add-txn-fields {
	margin-top: 10px;
	display: grid;
	grid-template-columns: repeat(2, minmax(0, 1fr));
	gap: 10px;
}

.cost-add-txn-field {
	display: flex;
	flex-direction: column;
	gap: 6px;
}

.cost-add-txn-field.is-hidden {
	display: none;
}

.cost-add-txn-field-label {
	font-size: 12px;
	color: var(--text-muted);
}

.cost-add-txn-summary {
	font-size: 12px;
	color: var(--text-muted);
	background: #ffffff;
	border: 1px dashed var(--background-modifier-border);
	border-radius: 12px;
	padding: 10px 12px;
}

.cost-add-txn-footer {
	padding-top: 2px;
}

.cost-add-txn-save-btn {
	width: 100%;
	border-radius: 12px;
	height: 42px;
	font-size: 15px;
	font-weight: 600;
}

@media (max-width: 768px) {
	.cost-add-txn-category-grid {
		grid-template-columns: repeat(6, minmax(0, 1fr));
		gap: 8px;
	}

	.cost-add-txn-fields {
		grid-template-columns: 1fr;
	}

	.cost-add-txn-page {
		gap: 12px;
	}
}

@media (max-width: 520px) {
	.cost-add-txn-category-grid {
		grid-template-columns: repeat(5, minmax(0, 1fr));
	}

	.cost-add-txn-type-tabs {
		gap: 6px;
		padding: 6px;
	}

	.cost-add-txn-type-btn {
		padding: 8px 4px;
		font-size: 13px;
	}

	.cost-add-txn-category-item {
		padding: 8px 4px;
		border-radius: 12px;
	}

	.cost-add-txn-category-icon {
		width: 32px;
		height: 32px;
	}

	.cost-add-txn-category-label {
		font-size: 11px;
	}
}

/* ========================================
   收支趋势图
   ======================================== */

.cost-trend-chart {
	width: 100%;
	/* 移除背景、边框和 padding，由 cost-widget 统一管理 */
}

.cost-trend-chart-header {
	display: flex;
	justify-content: space-between;
	align-items: center;
	margin-bottom: 12px;
}

.cost-trend-chart-title {
	font-weight: 600;
	font-size: 14px;
	color: var(--text-normal);
}

.cost-trend-chart-container {
	width: 100%;
}

.cost-line-chart {
	width: 100%;
	height: 100%;
	/* 自适应高度 */
}

.cost-trend-chart-empty {
	text-align: center;
	padding: 40px 20px;
	color: var(--text-muted);
	font-size: 13px;
}

/* ========================================
   可拖拽 Widget 系统
   ======================================== */

/* ========================================
   统计视图网格布局 (静态)
   ======================================== */

.cost-stats-view {
	display: flex;
	flex-direction: column;
	gap: 16px;
	padding: 20px;
	width: 100%;
}

.cost-stats-section {
	width: 100%;
}

.cost-stats-grid-row {
	display: grid;
	grid-template-columns: 1fr 1fr;
	gap: 16px;
	width: 100%;
}

.cost-stats-card {
	background: var(--background-primary);
	border-radius: 8px;
	padding: 16px;
	box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
	transition: box-shadow 0.2s;
	overflow: hidden;
	contain: content;
}

.cost-stats-card:hover {
	box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
}

/* 移动端适配：网格变为单列 */
@media (max-width: 768px) {
	.cost-stats-grid-row {
		grid-template-columns: 1fr;
	}
}

/* ========================================
   时间范围选择器（内联按钮）
   ======================================== */

.cost-time-range-btn-group-inline {
	display: flex;
	gap: 4px;
	margin-left: auto;
}

.cost-time-range-btn-inline {
	padding: 4px 10px;
	border: 1px solid var(--background-modifier-border);
	background: var(--background-primary);
	color: var(--text-muted);
	border-radius: 4px;
	cursor: pointer;
	transition: all 0.2s;
	font-size: 11px;
}

.cost-time-range-btn-inline:hover {
	background: var(--background-modifier-hover);
	color: var(--text-normal);
	border-color: var(--interactive-accent);
}

.cost-time-range-btn-inline.active {
	background: var(--interactive-accent);
	color: white;
	border-color: var(--interactive-accent);
}

.cost-trend-chart-header {
	display: flex;
	justify-content: space-between;
	align-items: center;
	margin-bottom: 12px;
}

/* 移除旧的时间范围选择器样式 */
.cost-time-range-selector,
.cost-time-range-widget {
	display: none;
}

/* ========================================
   移动端已适配
   ======================================== */

@media screen and (max-width: 768px) {

	/* 在主视图中隐藏左侧栏（统计/日历） */
	.cost-txn-left-col {
		display: none !important;
	}

	/* 右侧交易列表占满宽度 */
	.cost-txn-layout {
		flex-direction: column;
	}

	.cost-txn-right-col {
		width: 100%;
		flex: 1;
	}

	/* 统计视图（单独的新视图）样式调整 */
	.cost-stats-view .cost-balance-summary-card,
	.cost-stats-view .cost-mini-calendar,
	.cost-stats-view .cost-category-stats {
		width: 100%;
		margin-bottom: 12px;
	}

	/* 调整字体大小和间距以便在小屏幕更紧凑 */
	.cost-summary-amount {
		font-size: 20px;
	}

	.cost-tab {
		padding: 10px 12px;
	}

	/* 交易卡片调整为3行布局 */
	.cost-txn-info {
		display: flex;
		flex-direction: column;
		gap: 4px;
	}

	/* 第1行：分类 + 商家（地址移到第3行） */
	.cost-txn-top-row {
		display: flex;
		flex-wrap: wrap;
		gap: 8px;
		align-items: center;
	}

	/* 地址单独成行 */
	.cost-txn-address {
		display: block !important;
		width: 100%;
		margin-top: 2px;
	}

	/* 第2行：日期 + 时间 + 账户 */
	.cost-txn-bottom-row {
		display: flex;
		flex-wrap: wrap;
		gap: 6px;
		font-size: 12px;
	}

	/* 备注和余额变动如果太长会自动换行 */
	.cost-txn-note,
	.cost-txn-balance-change {
		flex-basis: 100%;
	}

	/* 调整交易卡片内边距 */
	.cost-transaction-item {
		padding: 10px;
	}
}

/* Performance Optimization */
.cost-transaction-item,
.cost-date-group {
	content-visibility: auto;
	contain-intrinsic-size: 50px;
	/* Estimate height */
}

/* New Transaction List Styles */
.cost-txn-address,
.cost-txn-memo {
	font-size: 11px;
	color: var(--text-muted);
	margin-left: 8px;
}

.cost-txn-balance-row {
	width: 100%;
	margin-top: 4px;
	display: flex;
	flex-wrap: wrap;
	gap: 8px;
	font-size: 10px;
}

.cost-txn-balance-change {
	background: var(--background-modifier-form-field);
	padding: 2px 6px;
	border-radius: 4px;
	color: var(--text-muted);
	border: 1px solid var(--background-modifier-border);
}

.cost-balance-up {
	color: var(--color-green);
}

.cost-balance-down {
	color: var(--color-red);
}

/* Right Aligned Balances */
.cost-txn-amount-col {
	display: flex;
	flex-direction: column;
	align-items: flex-end;
	margin-left: 12px;
}

.cost-txn-balance-col-wrapper {
	display: flex;
	flex-direction: column;
	align-items: flex-end;
	gap: 2px;
	margin-top: 4px;
}

.cost-txn-balance-change-right {
	font-size: 10px;
	color: var(--text-faint);
	white-space: nowrap;
}

/* Edit Modal */
.cost-modal-header-actions {
	position: absolute;
	right: 50px;
	top: 12px;
}

/* Combo Input Styles */
.cost-input-group {
	display: flex;
	align-items: center;
	gap: 0 !important;
	/* Override potential default gap */
}

.cost-input-group input[type="text"] {
	border-top-right-radius: 0;
	border-bottom-right-radius: 0;
	flex: 1;
}

.cost-combo-btn {
	border-top-left-radius: 0;
	border-bottom-left-radius: 0;
	border-left: none;
	height: 30px;
	width: 30px;
	flex-shrink: 0;
	padding: 0;
	background: var(--background-modifier-form-field);
	border: 1px solid var(--background-modifier-border);
	cursor: pointer;
	display: flex;
	align-items: center;
	justify-content: center;
	color: var(--text-muted);
}


.cost-combo-btn:hover {
	background: var(--background-modifier-hover);
}

/* Transaction List Account Icons */
.cost-txn-account-icon-small {
	margin-right: 4px;
	display: inline-flex;
	align-items: center;
	vertical-align: middle;
}

.cost-txn-account-icon-small img.cost-account-custom-icon-img {
	width: 14px;
	height: 14px;
	object-fit: contain;
}


/* Widget Styles */

/* KPI Cards */
.cost-kpi-cards-wrapper {
	display: grid;
	grid-template-columns: repeat(3, 1fr);
	gap: 12px;
	width: 100%;
}

.cost-kpi-card {
	background: var(--background-primary);
	padding: 12px;
	border-radius: 8px;
	border: 1px solid var(--background-modifier-border);
	display: flex;
	flex-direction: column;
	justify-content: center;
}

.cost-kpi-label {
	font-size: 12px;
	color: var(--text-muted);
	margin-bottom: 4px;
}

.cost-kpi-value {
	font-size: 18px;
	font-weight: 600;
	margin-bottom: 4px;
	color: var(--text-normal);
}

.cost-kpi-trend {
	font-size: 12px;
	display: flex;
	align-items: center;
	gap: 4px;
}

.cost-kpi-sub {
	font-size: 12px;
	color: var(--text-muted);
}

/* Top Payees */
.cost-top-payees-list {
	display: flex;
	flex-direction: column;
	gap: 12px;
	margin-top: 10px;
}

.cost-payee-row {
	display: flex;
	align-items: center;
	font-size: 13px;
}

.cost-payee-name {
	width: 100px;
	white-space: nowrap;
	overflow: hidden;
	text-overflow: ellipsis;
	margin-right: 8px;
	color: var(--text-normal);
}

.cost-payee-bar-container {
	flex: 1;
	height: 6px;
	background: var(--background-modifier-border);
	border-radius: 3px;
	margin-right: 8px;
	overflow: hidden;
}

.cost-payee-bar {
	height: 100%;
	background: var(--interactive-accent);
	border-radius: 3px;
}

.cost-payee-amount {
	font-family: var(--font-monospace);
	color: var(--text-muted);
	min-width: 60px;
	text-align: right;
}

/* Donut Chart */
.cost-donut-wrapper {
	display: flex;
	justify-content: center;
	margin: 10px 0 20px 0;
}

.cost-donut-svg {
	width: 160px;
	height: 160px;
}

.cost-donut-legend {
	display: grid;
	grid-template-columns: repeat(2, 1fr);
	gap: 8px 16px;
}

.cost-legend-item {
	display: flex;
	align-items: center;
	font-size: 12px;
}

.cost-legend-dot {
	width: 8px;
	height: 8px;
	border-radius: 50%;
	margin-right: 6px;
	flex-shrink: 0;
}

.cost-legend-label {
	flex: 1;
	color: var(--text-muted);
	white-space: nowrap;
	overflow: hidden;
	text-overflow: ellipsis;
}

.cost-legend-value {
	color: var(--text-normal);
	font-weight: 500;
}

/* Heatmap */
.cost-heatmap-widget {
	overflow-x: auto;
	width: 100%;
}

.cost-heatmap-svg {
	min-width: 600px;
	width: 100%;
	height: auto;
	display: block;
}

/* Load More Button */
.cost-load-more {
	width: 100%;
	text-align: center;
	padding: 10px;
	margin-top: 10px;
	background: var(--background-secondary);
	border: 1px solid var(--background-modifier-border);
	border-radius: 6px;
	cursor: pointer;
	color: var(--text-muted);
	font-size: 13px;
	transition: all 0.2s;
}

.cost-load-more:hover {
	background: var(--background-modifier-hover);
	color: var(--text-normal);
	border-color: var(--interactive-accent);
}

/* Transaction List Icons (SVG) */
.cost-txn-icon {
	width: 36px;
	height: 36px;
	border-radius: 12px;
	background-color: var(--background-secondary-alt);
	display: flex;
	align-items: center;
	justify-content: center;
	margin-right: 12px;
	flex-shrink: 0;
	color: var(--text-muted);
}

.cost-txn-icon svg {
	width: 20px;
	height: 20px;
	stroke-width: 2px;
}

.cost-txn-icon-img {
	width: 100%;
	height: 100%;
	object-fit: cover;
	border-radius: 12px;
}


/* Management View */
.cost-management-view {
	display: flex;
	flex-direction: column;
	height: 100%;
	overflow: hidden;
	padding: 0 10px 10px 10px;
}


.cost-highlight {
	background-color: rgba(255, 255, 0, 0.4);
	border-radius: 2px;
	color: var(--text-normal);
}

.cost-filter-bar {
	display: flex;
	align-items: center;
	gap: 12px;
	padding: 10px 0;
	flex-wrap: wrap;
	border-bottom: 1px solid var(--background-modifier-border);
	margin-bottom: 10px;
}

.cost-filter-group {
	display: flex;
	align-items: center;
	gap: 8px;
}

.cost-search-wrapper {
	flex-grow: 1;
	max-width: 350px;
}

.cost-search-btn {
	background: transparent;
	border: none;
	cursor: pointer;
	opacity: 0.7;
	padding: 4px;
}

.cost-search-btn:hover {
	opacity: 1;
}

.cost-filter-select,
.cost-filter-search {
	background: var(--background-primary);
	border: 1px solid var(--background-modifier-border);
	border-radius: 4px;
	padding: 4px 8px;
}

.cost-filter-search {
	flex-grow: 1;
	max-width: 300px;
}

.cost-action-bar {
	display: flex;
	justify-content: space-between;
	align-items: center;
	margin-bottom: 10px;
}

.cost-table-wrapper {
	flex-grow: 1;
	overflow: auto;
	border: 1px solid var(--background-modifier-border);
	border-radius: 6px;
	background: var(--background-primary);
}

.cost-txn-table {
	width: 100%;
	border-collapse: collapse;
}

.cost-txn-table th,
.cost-txn-table td {
	padding: 8px 12px;
	text-align: left;
	border-bottom: 1px solid var(--background-modifier-border);
}

.cost-txn-table th {
	background: var(--background-secondary);
	position: sticky;
	top: 0;
	z-index: 1;
	font-weight: 600;
}

.cost-sortable-th:hover {
	background: var(--background-modifier-hover) !important;
}

.cost-th-content {
	display: flex;
	align-items: center;
	justify-content: flex-end;
	/* Align right for amount */
	gap: 4px;
}

.cost-sort-icon {
	display: flex;
	align-items: center;
}

.cost-txn-table tr:hover {
	background: var(--background-secondary-alt);
}

.cost-table-checkbox {
	width: 40px;
	text-align: center !important;
}

.cost-table-amount {
	text-align: right !important;
	font-family: var(--font-monospace);
	font-weight: 600;
}

.cost-table-note {
	max-width: 200px;
	white-space: nowrap;
	overflow: hidden;
	text-overflow: ellipsis;
	color: var(--text-muted);
}

/* Code Block View */
.cost-code-block-view {
	border: 1px solid var(--background-modifier-border);
	border-radius: 8px;
	padding: 12px;
	background-color: var(--background-primary);
	margin-top: 12px;
	margin-bottom: 12px;
}

/* Fused Input Card - Added Programmatically */
.cost-fused-card {
	background: var(--background-primary);
	border: 1px solid var(--background-modifier-border);
	border-radius: 12px;
	margin: 16px 0;
	overflow: hidden;
	box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);
}

.cost-fused-amount-row {
	display: flex;
	align-items: center;
	padding: 16px 16px 8px 16px;
	background: var(--background-primary);
}

.cost-currency-symbol {
	font-size: 24px;
	font-weight: 600;
	color: var(--color-red);
	margin-right: 8px;
	font-family: var(--font-monospace);
	user-select: none;
}

.cost-fused-amount-input {
	flex: 1;
	font-size: 36px;
	font-weight: 700;
	color: var(--color-red);
	border: none !important;
	background: transparent !important;
	padding: 0 !important;
	margin: 0 !important;
	font-family: var(--font-monospace);
	outline: none !important;
	box-shadow: none !important;
}

.cost-fused-amount-input:focus {
	box-shadow: none !important;
	border: none !important;
}

.cost-fused-meta-row {
	display: flex;
	align-items: center;
	padding: 8px 16px 12px 16px;
	gap: 12px;
	background: var(--background-primary);
}

.cost-time-pill {
	display: flex;
	align-items: center;
	padding: 4px 10px;
	background: var(--background-secondary);
	border-radius: 16px;
	font-size: 13px;
	color: var(--text-muted);
	cursor: pointer;
	font-family: var(--font-monospace);
	transition: all 0.2s ease;
	user-select: none;
	white-space: nowrap;
	border: 1px solid transparent;
}

.cost-time-pill:hover {
	background: var(--background-modifier-hover);
	color: var(--text-normal);
	border-color: var(--background-modifier-border);
}

.cost-fused-memo-input {
	flex: 1;
	border: none !important;
	background: transparent !important;
	padding: 0 !important;
	font-size: 14px;
	color: var(--text-normal);
	outline: none !important;
	box-shadow: none !important;
	min-width: 0;
}

.cost-fused-memo-input::placeholder {
	color: var(--text-faint);
}

.cost-fused-expand-btn {
	display: flex;
	align-items: center;
	justify-content: center;
	width: 24px;
	height: 24px;
	border-radius: 50%;
	color: var(--text-muted);
	cursor: pointer;
	background: transparent;
	border: none;
	padding: 0;
	transition: all 0.2s ease;
}

.cost-fused-expand-btn:hover {
	background: var(--background-modifier-hover);
	color: var(--text-normal);
}

.cost-fused-expand-btn svg {
	width: 16px;
	height: 16px;
	transition: transform 0.3s ease;
}

.cost-fused-expand-btn.is-expanded svg {
	transform: rotate(180deg);
}

.cost-datetime-picker-row {
	display: none;
	gap: 8px;
	padding: 8px 16px;
	background: var(--background-secondary-alt);
	border-top: 1px solid var(--background-modifier-border);
	animation: fadeIn 0.2s ease;
}

.cost-datetime-picker-row.is-visible {
	display: flex;
}

@keyframes fadeIn {
	from {
		opacity: 0;
		transform: translateY(-5px);
	}

	to {
		opacity: 1;
		transform: translateY(0);
	}
}

.cost-details-container {
	padding: 0 4px;
	max-height: 0;
	overflow: hidden;
	transition: max-height 0.3s cubic-bezier(0.4, 0, 0.2, 1);
	opacity: 0;
}

.cost-details-container.is-open {
	max-height: 1000px;
	opacity: 1;
	overflow: visible;
	padding-bottom: 20px;
}

/* Top Helper Bar */
.cost-top-helper-bar {
	display: flex;
	align-items: center;
	gap: 8px;
	padding: 0 4px;
	margin-bottom: 8px;
	overflow-x: auto;
	white-space: nowrap;
	-ms-overflow-style: none;
	/* IE and Edge */
	scrollbar-width: none;
	/* Firefox */
}

.cost-top-helper-bar::-webkit-scrollbar {
	display: none;
}

.cost-helper-chip {
	display: flex;
	align-items: center;
	height: 28px;
	padding: 0 10px;
	border-radius: 14px;
	/* Fully rounded pill */
	background: var(--background-primary);
	border: 1px solid var(--background-modifier-border);
	color: var(--text-muted);
	font-size: 12px;
	cursor: pointer;
	transition: all 0.2s ease;
	user-select: none;
	flex-shrink: 0;
}

.cost-helper-chip:hover {
	background: var(--background-modifier-hover);
	color: var(--text-normal);
	border-color: var(--text-muted);
}

.cost-helper-chip.has-value {
	background: var(--interactive-accent);
	color: var(--text-on-accent);
	border-color: transparent;
}

.cost-helper-chip.has-value:hover {
	background: var(--interactive-accent-hover);
}

.cost-helper-chip svg {
	width: 14px;
	height: 14px;
	margin-right: 4px;
	opacity: 0.8;
}

.cost-chip-close {
	margin-left: 6px;
	margin-right: -4px;
	opacity: 0.6;
	border-radius: 50%;
	width: 16px;
	height: 16px;
	display: flex;
	align-items: center;
	justify-content: center;
}

.cost-chip-close:hover {
	background: rgba(0, 0, 0, 0.1);
	opacity: 1;
}

.cost-helper-chip.has-value .cost-chip-close:hover {
	background: rgba(255, 255, 255, 0.2);
}